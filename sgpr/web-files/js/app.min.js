"use strict";var app=angular.module("appSite",["ngRoute","Controller","Services","Directives","Filter","ui.tinymce","chieffancypants.loadingBar","ngAnimate","ngSanitize","ngMask"]);app.config(["$routeProvider","cfpLoadingBarProvider","$locationProvider",function(e,t,n){tinyMCE.baseURL="/web-files/tinymce",t.includeSpinner=!1,n.hashPrefix(""),e.when("/",{templateUrl:"pages/home.html"}).when("/perfil/:id",{templateUrl:"pages/perfil.html"}).when("/projetos/:cond/:id",{templateUrl:"pages/restrito/projetos/adicionar.html"}).when("/usuarios",{templateUrl:"pages/restrito/usuarios/index.html"}).when("/usuarios/adicionar",{templateUrl:"pages/restrito/usuarios/adicionar.html"}).when("/usuarios/editar/:id",{templateUrl:"pages/restrito/usuarios/editar.html"}).when("/radios",{templateUrl:"pages/restrito/radios/index.html"}).when("/radios/adicionar",{templateUrl:"pages/restrito/radios/adicionar.html"}).when("/radios/editar/:id",{templateUrl:"pages/restrito/radios/editar.html"}).when("/equipamentos",{templateUrl:"pages/restrito/equipamentos/index.html"}).when("/equipamentos/adicionar",{templateUrl:"pages/restrito/equipamentos/adicionar.html"}).when("/equipamentos/editar/:id",{templateUrl:"pages/restrito/equipamentos/editar.html"}).when("/equipamentos/transferir/:id",{templateUrl:"pages/restrito/equipamentos/transferir.html"}).when("/equipamentos/relatorio/",{templateUrl:"pages/restrito/equipamentos/relatorio.html"}).when("/setores",{templateUrl:"pages/restrito/setores/index.html"}).when("/setores/adicionar",{templateUrl:"pages/restrito/setores/adicionar.html"}).when("/setores/editar/:id",{templateUrl:"pages/restrito/setores/editar.html"}).when("/tipoequipamento",{templateUrl:"pages/restrito/tipoequipamento/index.html"}).when("/tipoequipamento/adicionar",{templateUrl:"pages/restrito/tipoequipamento/adicionar.html"}).when("/tipoequipamento/editar/:id",{templateUrl:"pages/restrito/tipoequipamento/editar.html"}).when("/niveisacesso",{templateUrl:"pages/restrito/niveisacesso/index.html"}).when("/niveisacesso/adicionar",{templateUrl:"pages/restrito/niveisacesso/adicionar.html"}).when("/niveisacesso/editar/:id",{templateUrl:"pages/restrito/niveisacesso/editar.html"}).when("/tipoatendimento",{templateUrl:"pages/restrito/tipoatendimento/index.html"}).when("/tipoatendimento/adicionar",{templateUrl:"pages/restrito/tipoatendimento/adicionar.html"}).when("/tipoatendimento/editar/:id",{templateUrl:"pages/restrito/tipoatendimento/editar.html"}).when("/tipostatus",{templateUrl:"pages/restrito/tipostatus/index.html"}).when("/tipostatus/adicionar",{templateUrl:"pages/restrito/tipostatus/adicionar.html"}).when("/tipostatus/editar/:id",{templateUrl:"pages/restrito/tipostatus/editar.html"}).otherwise({redirectTo:"/"})}]);var ctrl=angular.module("Controller",["Services"]);ctrl.controller("PrincipalCtrl",["usuarioLogado",function(e){var t=this;t.controle={},e.get().then(function(e){1==e.data[0].nivel?(t.controle.tipo="adm",t.controle.perfilname=e.data[0].perfilname):e.data[0].nivel>=2&&9>=e.data[0].nivel?(t.controle.tipo="usuario",t.controle.perfilname=e.data[0].perfilname):(t.controle.tipo="visitante",t.controle.perfilname=e.data[0].perfilname)}).catch(function(){alert(" Ops! Ocorreu um Erro! "),t.controle="visitante"})}]),ctrl.controller("HomeCtrl",["getPerfil",function(e){var t=this;t.tipo=10,e.get(t.tipo).then(function(e){t.perfil=e.data})}]),ctrl.controller("PerfilCtrl",["getProjetos","$routeParams","delProjetos","usuarioLogado",function(e,t,n,r){function i(t,n){t>=10&&n==o.id?e.getCriadoPor(o.id).then(function(e){s=e.data,o.projetos=s.splice(0,a),o.buttonGetProjetos=!0}):e.get(o.id).then(function(e){s=e.data,o.projetos=s.splice(0,a),o.buttonGetProjetos=!0})}var o=this;o.id=t.id;var a=12,s=null;o.buttonGetProjetos=!1,r.get().then(function(e){i(e.data[0].nivel,e.data[0].perfilname)}),o.getProjetos=function(){o.projetos=o.projetos.concat(s),o.buttonGetProjetos=!1},o.deletar=function(e){n.post({id:e}).then(function(){var t=o.projetos.map(function(e){return e.id}).indexOf(e);o.projetos.splice(t,1),o.msgSuccess=!0,o.msgError=!1}).catch(function(){o.msgSuccess=!0,o.msgError=!1})}}]),ctrl.controller("ProjetosCtrl",["Radios","getProjetosExp","setProjetos","postProjetos","$routeParams","usuarioLogado","getPerfil","Equipamentos","TiposEquipamento","PushNotification","TipoAtendimento","NivelAcesso","TipoStatus","getUsuarios",function(e,t,n,r,i,o,a,s,u,c,l,d,f,h){function p(){switch(o.get().then(function(e){S=e.data[0].perfilname,("add"==i.cond||"edit"==i.cond)&&(m(e.data[0].nivel),g(e.data[0].acesso_radios))}),i.cond){case"add":E.situacao="Adicionar";break;case"edit":E.situacao="Editar";var n=i.id;t.get(n).then(function(e){E.projetos=e.data[0],"agendado"!=E.projetos.status&&(E.projetos.dataagendamento="",E.projetos.horaagendamento=""),E.getEquipamentos(e.data[0].empresa,e.data[0].equipamento)});break;case"visualizar":E.situacao="Visualizar",E.readOnly=!0;var n=i.id;t.get(n).then(function(e){E.projetos=e.data[0]}),e.get().then(function(e){E.radios=e.data}),l.findAll().then(function(e){E.listaAtendimento=e.data}),f.findAll().then(function(e){E.listaStatus=e.data}),h.getChamados().then(function(e){E.perfil=e.data});break;default:}}function m(e){d.find(e).then(function(e){v(e.data[0].acesso_atendimento),b(e.data[0].acesso_status)})}function g(t){e.find(t).then(function(e){E.radios=e.data})}function v(e){l.find(e).then(function(e){E.listaAtendimento=e.data,("edit"==i.cond||"visualizar"==i.cond)&&E.findAtendimentoSuporte(E.projetos.tipo)})}function y(e){a.findUserAtendimento(e).then(function(e){E.perfil=e.data})}function b(e){f.find(e).then(function(e){E.listaStatus=e.data})}function $(e){r.post(e).then(function(){E.msgSuccess=!0,E.msgError=!1,e.adiciona=!0,C(e),w(),c.send(e)}).catch(function(){E.msgSuccess=!0,E.msgError=!1})}function x(e){n.post(e).then(function(t){E.msgSuccess=!0,E.msgError=!1,e.adiciona=!1,C(e),E.projetos=t.data,c.send(e)}).catch(function(){E.msgSuccess=!0,E.msgError=!1})}function C(e){r.senderEmail(e).then(function(){})}function w(){E.projetos={nome:"",descricao:"",status:"",tipo:"",dono:S}}var E=this,S=null;E.projetos={},E.listaAtendimento=null,E.listaStatus=null,E.radios=null,E.findAtendimentoSuporte=function(e){var t=E.listaAtendimento.map(function(e){return e.valor}).indexOf(e);d.findSuporte(E.listaAtendimento[t].idatendimento).then(function(e){var t=e.data.map(function(e){return e.nivel}),n="{"+(""+t)+"}";y(n)})},E.getEquipamentos=function(e,t){s.getSpec(e).then(function(e){E.equipamentos=e.data;var n=E.equipamentos.map(function(e){return e.nregistro}).indexOf(t);-1!=n&&(E.tipoEquipamento=E.equipamentos[n].tipo)}),u.get().then(function(e){E.tiposequipamento=e.data})},E.salvar=function(){switch(i.cond){case"add":E.projetos.criadopor=S,$(E.projetos);break;case"edit":x(E.projetos);break;default:}},p()}]),ctrl.controller("UsuariosCtrl",["getUsuarios","envioUsuarios","delUsuario","$filter","NivelAcesso","Radios",function(e,t,n,r,i,o){var a=this;a.selectedRadios=[],e.get().then(function(e){a.usuLista=e.data}),o.get().then(function(e){a.listaRadios=e.data}),i.findAll().then(function(e){a.nivelLista=e.data}),a.deletar=function(e){n.post(e).then(function(){a.usuLista.splice(a.usuLista.indexOf(e),1),a.msgSuccess=!0,a.msgError=!1}).catch(function(){a.msgSuccess=!0,a.msgError=!1})},a.salvar=function(){a.usuarios.perfilname=r("lowerCaseNoSpace")(a.usuarios.nome),a.usuarios.acesso_radios="{"+(""+a.selectedRadios)+"}",t.post(a.usuarios).then(function(){a.usuarios="",a.msgSuccess=!0,a.nomeInvalido=!1,a.msgError=!1}).catch(function(){a.msgSuccess=!0,a.msgError=!1})},a.toggleSelectionRadios=function(e){var t=a.selectedRadios.indexOf(e);t>-1?a.selectedRadios.splice(t,1):a.selectedRadios.push(e)}}]),ctrl.controller("EditarUsuariosCtrl",["$routeParams","getUsuarioAlterar","setUsuarioAlterar","NivelAcesso","Radios",function(e,t,n,r,i){function o(){t.get(e.id).then(function(e){s.usuEdit=e.data[0],s.selectedRadios=a(e.data[0].acesso_radios).split(","),s.selectedRadios=s.selectedRadios.map(Number)})}function a(e){return e.slice(1,-1)}var s=this;s.usuEdit={},s.selectedRadios=[],i.get().then(function(e){s.listaRadios=e.data,o()}),r.findAll().then(function(e){s.nivelLista=e.data}),s.alterar=function(){s.usuEdit.acesso_radios="{"+(""+s.selectedRadios)+"}",n.post(s.usuEdit).then(function(e){"null"!=e.data?(s.usuEdit=e.data,s.msgSuccess=!0,s.nomeInvalido=!1,s.msgError=!1):(s.msgError=!0,s.msgSuccess=!1)})},s.toggleSelectionRadios=function(e){var t=s.selectedRadios.indexOf(e);t>-1?s.selectedRadios.splice(t,1):s.selectedRadios.push(e)}}]),ctrl.controller("RadiosCtrl",["Radios",function(e){var t=this;e.get().then(function(e){t.radLista=e.data},function(){alert(" Ops! Ocorreu um Erro! ")}),t.deletar=function(n){e.deletar(n).then(function(){t.radLista.splice(t.radLista.indexOf(n),1),t.msgSuccess=!0,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})},t.salvar=function(){e.insere(t.radios).then(function(){t.radios="",t.msgSuccess=!0,t.nomeInvalido=!1,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})}}]),ctrl.controller("EditarRadiosCtrl",["$routeParams","Radios",function(e,t){var n=this;n.radEdit={},t.getEdit(e.id).then(function(e){n.radEdit=e.data[0]}),n.alterar=function(){t.update(n.radEdit).then(function(e){"null"!=e.data?(n.radEdit=e.data,n.msgSuccess=!0,n.msgError=!1):(n.msgError=!0,n.msgSuccess=!1)})}}]),ctrl.controller("EquipamentosCtrl",["Equipamentos",function(e){var t=this;e.get().then(function(e){t.equiLista=e.data}),t.deletar=function(n){e.deletar(n).then(function(){t.equiLista.splice(t.equiLista.indexOf(n),1),t.msgSuccess=!0,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})},t.imprimir=function(){print()}}]),ctrl.controller("AddEquipamentosCtrl",["Equipamentos","Radios","Setores","TiposEquipamento",function(e,t,n,r){function i(){e.getMaxId().then(function(e){null!=e.data[0].id_max&&(o.equipamento.nregistro=parseInt(e.data[0].id_max)+1)})}var o=this;o.equipamento={nregistro:0},t.get().then(function(e){o.radios=e.data,i()}),n.get().then(function(e){o.setores=e.data}),r.get().then(function(e){o.tiposequipamento=e.data}),o.salvar=function(){e.insere(o.equipamento).then(function(){o.equipamento="",i(),o.msgSuccess=!0,o.nomeInvalido=!1,o.msgError=!1}).catch(function(){o.msgSuccess=!0,o.msgError=!1})}}]),ctrl.controller("EditarEquipamentosCtrl",["$routeParams","Equipamentos","Radios","Setores","TiposEquipamento",function(e,t,n,r,i){function o(){r.get().then(function(e){u.setores=e.data,a()})}function a(){i.get().then(function(e){u.tiposequipamento=e.data,s()})}function s(){t.getEdit(e.id).then(function(e){u.editEqui=e.data[0]})}var u=this;n.get().then(function(e){u.radios=e.data,o()}),u.alterar=function(){t.update(u.editEqui).then(function(e){"null"!=e.data?(u.editEqui=e.data,u.msgSuccess=!0,u.msgError=!1):(u.msgError=!0,u.msgSuccess=!1)})}}]),ctrl.controller("TransferirEquipamentosCtrl",["$routeParams","$location","$timeout","Equipamentos","Radios","Setores",function(e,t,n,r,i,o){function a(){o.get().then(function(e){c.setores=e.data,s()})}function s(){r.getEdit(e.id).then(function(e){c.editEqui=e.data[0],delete c.editEqui.id,c.editEqui.empresa="",c.editEqui.setor="",c.editEqui.nome="",c.editEqui.status="1"})}function u(){r.update({id:e.id,status:"0"}).then(function(e){"null"!=e.data?(c.msgSuccess=!0,c.msgError=!1,n(function(){t.path("/equipamentos")},500)):(c.msgError=!0,c.msgSuccess=!1)})}var c=this;i.get().then(function(e){c.radios=e.data,a()}),c.transferir=function(e){r.insere(e).then(function(e){"null"!=e.data&&u()})}}]),ctrl.controller("RelatorioEquipamentosCtrl",["Projetos","Radios","Equipamentos","TiposEquipamento",function(e,t,n,r){function i(){r.get().then(function(e){o.tiposequipamento=e.data})}var o=this;t.get().then(function(e){o.radios=e.data,i()}),o.getEquipamentos=function(e){n.getSpec(e).then(function(e){o.equipamentos=e.data})},o.relatorioPorNome=function(t){e.relatorioPorNome(t).then(function(e){o.relatorio=e.data})},o.relatorioPorRegistro=function(t){e.relatorioPorRegistro(t).then(function(e){o.relatorio=e.data})},o.imprimir=function(){print()}}]),ctrl.controller("TiposEquipamentoCtrl",["TiposEquipamento",function(e){var t=this;e.get().then(function(e){t.tipoEquiLista=e.data},function(){alert(" Ops! Ocorreu um Erro! ")}),t.deletar=function(n){e.deletar(n).then(function(){t.tipoEquiLista.splice(t.tipoEquiLista.indexOf(n),1),t.msgSuccess=!0,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})},t.salvar=function(){e.insere(t.tipoEquipamento).then(function(){t.tipoEquipamento="",t.msgSuccess=!0,t.nomeInvalido=!1,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})}}]),ctrl.controller("EditarTiposEquipamentoCtrl",["$routeParams","TiposEquipamento",function(e,t){var n=this;t.getEdit(e.id).then(function(e){n.tipoEquiEdit=e.data[0]}),n.alterar=function(){t.update(n.tipoEquiEdit).then(function(e){"null"!=e.data?(n.tipoEquiEdit=e.data,n.msgSuccess=!0,n.msgError=!1):(n.msgError=!0,n.msgSuccess=!1)})}}]),ctrl.controller("SetoresCtrl",["Setores",function(e){var t=this;e.get().then(function(e){t.setorLista=e.data},function(){alert(" Ops! Ocorreu um Erro! ")}),t.deletar=function(n){e.deletar(n).then(function(){t.setorLista.splice(t.setorLista.indexOf(n),1),t.msgSuccess=!0,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})},t.salvar=function(){e.insere(t.setor).then(function(){t.setor="",t.msgSuccess=!0,t.nomeInvalido=!1,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})}}]),ctrl.controller("EditarSetoresCtrl",["$routeParams","Setores",function(e,t){var n=this;t.getEdit(e.id).then(function(e){n.setorEdit=e.data[0]}),n.alterar=function(){t.update(n.setorEdit).then(function(e){"null"!=e.data?(n.setorEdit=e.data,n.msgSuccess=!0,n.msgError=!1):(n.msgError=!0,n.msgSuccess=!1)})}}]),ctrl.controller("NiveisAcessoCtrl",["NivelAcesso","Radios","TipoAtendimento","TipoStatus",function(e,t,n,r){var i=this;i.selectedAtendimento=[],i.selectedAtendimentoSuporte=[],i.selectedStatus=[],e.findAll().then(function(e){i.nivelLista=e.data}),n.findAll().then(function(e){i.listaAtendimento=e.data}),r.findAll().then(function(e){i.listaStatus=e.data}),i.deletar=function(t){e.deletar(t).then(function(){i.nivelLista.splice(i.nivelLista.indexOf(t),1),i.msgSuccess=!0,i.msgError=!1}).catch(function(){i.msgSuccess=!0,i.msgError=!1})},i.salvar=function(t){t.acesso_status="{"+(""+i.selectedStatus)+"}",t.acesso_atendimento="{"+(""+i.selectedAtendimento)+"}",t.suporte_atendimento="{"+(""+i.selectedAtendimentoSuporte)+"}",e.insere(t).then(function(){i.nivel="",i.msgSuccess=!0,i.nomeInvalido=!1,i.msgError=!1}).catch(function(){i.msgSuccess=!0,i.msgError=!1})},i.toggleSelectionAtendimento=function(e){var t=i.selectedAtendimento.indexOf(e);t>-1?i.selectedAtendimento.splice(t,1):i.selectedAtendimento.push(e)},i.toggleSelectionAtendimentoSuporte=function(e){var t=i.selectedAtendimentoSuporte.indexOf(e);t>-1?i.selectedAtendimentoSuporte.splice(t,1):i.selectedAtendimentoSuporte.push(e)},i.toggleSelectionStatus=function(e){var t=i.selectedStatus.indexOf(e);t>-1?i.selectedStatus.splice(t,1):i.selectedStatus.push(e)}}]),ctrl.controller("EditarNiveisAcessoCtrl",["$routeParams","NivelAcesso","Radios","TipoAtendimento","TipoStatus",function(e,t,n,r,i){function o(){t.getEdit(e.id).then(function(e){s.nivelEdit=e.data[0],s.selectedStatus=a(e.data[0].acesso_status).split(","),s.selectedAtendimento=a(e.data[0].acesso_atendimento).split(","),s.selectedAtendimentoSuporte=a(e.data[0].suporte_atendimento).split(","),s.selectedStatus=s.selectedStatus.map(Number),s.selectedAtendimento=s.selectedAtendimento.map(Number),s.selectedAtendimentoSuporte=s.selectedAtendimentoSuporte.map(Number)})}function a(e){return e.slice(1,-1)}var s=this;s.selectedAtendimento=[],s.selectedAtendimentoSuporte=[],s.selectedStatus=[],r.findAll().then(function(e){s.listaAtendimento=e.data}),i.findAll().then(function(e){o(),s.listaStatus=e.data}),s.alterar=function(e){e.acesso_status="{"+(""+s.selectedStatus)+"}",e.acesso_atendimento="{"+(""+s.selectedAtendimento)+"}",e.suporte_atendimento="{"+(""+s.selectedAtendimentoSuporte)+"}",t.update(e).then(function(e){"null"!=e.data?(s.nivelEdit=e.data,s.msgSuccess=!0,s.msgError=!1):(s.msgError=!0,s.msgSuccess=!1)})},s.toggleSelectionAtendimentoSuporte=function(e){var t=s.selectedAtendimentoSuporte.indexOf(e);t>-1?s.selectedAtendimentoSuporte.splice(t,1):s.selectedAtendimentoSuporte.push(e)},s.toggleSelectionAtendimento=function(e){var t=s.selectedAtendimento.indexOf(e);t>-1?s.selectedAtendimento.splice(t,1):s.selectedAtendimento.push(e)},s.toggleSelectionStatus=function(e){var t=s.selectedStatus.indexOf(e);t>-1?s.selectedStatus.splice(t,1):s.selectedStatus.push(e)}}]),ctrl.controller("TiposAtendimentoCtrl",["TipoAtendimento",function(e){var t=this;e.findAll().then(function(e){t.atendimentoLista=e.data}),t.deletar=function(n){e.deletar(n).then(function(){t.atendimentoLista.splice(t.atendimentoLista.indexOf(n),1),t.msgSuccess=!0,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})}}]),ctrl.controller("AddTipoAtendimentoCtrl",["TipoAtendimento",function(e){var t=this;t.atendimentoLista={},t.salvar=function(n){e.insere(n).then(function(){t.atendimentoLista="",t.msgSuccess=!0,t.nomeInvalido=!1,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})}}]),ctrl.controller("EditarTipoAtendimentoCtrl",["$routeParams","TipoAtendimento",function(e,t){var n=this;t.getEdit(e.id).then(function(e){n.atendimentoListaEdit=e.data[0]}),n.alterar=function(e){t.update(e).then(function(e){"null"!=e.data?(n.atendimentoListaEdit=e.data,n.msgSuccess=!0,n.msgError=!1):(n.msgError=!0,n.msgSuccess=!1)})}}]),ctrl.controller("TiposStatusCtrl",["TipoStatus",function(e){var t=this;e.findAll().then(function(e){t.statusLista=e.data}),t.deletar=function(n){e.deletar(n).then(function(){t.statusLista.splice(t.statusLista.indexOf(n),1),t.msgSuccess=!0,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})}}]),ctrl.controller("AddTipoStatusCtrl",["TipoStatus",function(e){var t=this;t.statusLista={},t.salvar=function(n){e.insere(n).then(function(){t.statusLista="",t.msgSuccess=!0,t.nomeInvalido=!1,t.msgError=!1}).catch(function(){t.msgSuccess=!0,t.msgError=!1})}}]),ctrl.controller("EditarTipoStatusCtrl",["$routeParams","TipoStatus",function(e,t){var n=this;t.getEdit(e.id).then(function(e){n.statusListaEdit=e.data[0]}),n.alterar=function(e){t.update(e).then(function(e){"null"!=e.data?(n.statusListaEdit=e.data,n.msgSuccess=!0,n.msgError=!1):(n.msgError=!0,n.msgSuccess=!1)})}}]);var dir=angular.module("Directives",[]);dir.directive("boxPerfil",["$location",function(e){return{restrict:"E",scope:{nome:"@",foto:"@",perfilname:"@"},link:function(t){t.urlLocation=function(t){e.path(t),e.replace()}},templateUrl:"directives/boxPerfil.html"}}]),dir.directive("boxProjetos",[function(){return{restrict:"E",scope:{status:"@",descricao:"@",dono:"@",id:"@",empresa:"@",nome:"@",criado:"@",tipo:"@",data:"@",datafim:"@",dataupdate:"@",dtagendamento:"@",hragendamento:"@",controle:"=",deletar:"&"},templateUrl:"directives/boxProjetos.html"}}]),dir.directive("menu",[function(){return{restrict:"E",scope:{controle:"=",searchnome:"="},templateUrl:"directives/menu.html"}}]);var fil=angular.module("Filter",[]);fil.filter("fristUpperCase",[function(){return function(e){return e=e.substring(0,1).toUpperCase()+e.substring(1)}}]),fil.filter("lowerCaseNoSpace",[function(){return function(e){if(void 0!=e){for(var t=[/[\300-\306]/g,/[\340-\346]/g,/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g],n=["A","a","E","e","I","i","O","o","U","u","N","n","C","c"],r=0;t.length>r;r++)e=e.replace(t[r],n[r]);return e=e.replace(/\s/g,""),e.toLowerCase()}}}]),fil.filter("convertDate",[function(){return function(e){e=e.split(" ");var t=e[1].split(":"),n=e[0].split("-");return n[2]+"/"+n[1]+"/"+n[0]+" - "+t[0]+":"+t[1]}}]),fil.filter("convertDateAgendamento",[function(){return function(e){var t=e.split("-");return t[2]+"/"+t[1]+"/"+t[0]}}]),fil.filter("htmlToText",[function(){return function(e){return(e+"").replace(/<[^>]+>/gm,"")}}]),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["uiTinymceConfig",function(e){e=e||{};var t=0;return{priority:10,require:"ngModel",link:function(n,r,i,o){function a(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,r=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(r,"").replace(n,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})}var s,u,c,l=function(){o.$setViewValue(r.val()),n.$root.$$phase||n.$apply()};if(i.id||i.$set("id","uiTinymce"+t++),s=i.uiTinymce?n.$eval(i.uiTinymce):{},s.setup){var d=s.setup;delete s.setup}u={setup:function(e){e.on("init",function(){o.$render(),o.$setPristine()}),e.on("ExecCommand",function(){e.save(),l()}),e.on("KeyUp",function(){e.save(),l()}),e.on("SetContent",function(t){t.initial||o.$viewValue===t.content||(e.save(),l())}),e.on("blur",function(){r.blur()}),e.on("ObjectResized",function(){e.save(),l()}),d&&d(e)},mode:"exact",menubar:!1,statusbar:!1,plugins:"advlist autolink link image lists charmap print preview jbimages paste code youtube",toolbar:"bold | italic | removeformat | link | code ",forced_root_block:"p",paste_preprocess:function(e,t){t.content=a(t.content,"")},paste_postprocess:function(){},elements:i.id},angular.extend(u,e,s),setTimeout(function(){tinymce.init(u)}),o.$render=function(){c||(c=tinymce.get(i.id)),c&&c.setContent(o.$viewValue||"")},n.$on("$destroy",function(){c||(c=tinymce.get(i.id)),c&&(c.remove(),c=null)})}}}]);var service=angular.module("Services",[]);service.factory("getPerfil",["$http",function(e){return{get:function(t){function n(e){return e}function r(e){return e}return e.get("service/usuarios/perfis/"+t).then(n).catch(r)},findUserAtendimento:function(t){function n(e){return e}function r(e){return e}return e.get("service/usuarios/findUserAtendimento/"+t).then(n).catch(r)}}}]),service.factory("usuarioLogado",["$http",function(e){return{get:function(){function t(e){return e}function n(e){return e}return e.get("service/usuarios/infologado/").then(t).catch(n)}}}]),service.factory("getProjetos",["$http",function(e){return{get:function(t){function n(e){return e}function r(e){return e}return e.get("service/projetos/perfil/"+t).then(n).catch(r)},getCriadoPor:function(t){function n(e){return e}function r(e){return e}return e.get("service/projetos/criadopor/"+t).then(n).catch(r)}}}]),service.factory("getProjetosExp",["$http",function(e){return{get:function(t){function n(e){return e}function r(e){return e}return e.get("service/projetos/getalterar/"+t).then(n).catch(r)}}}]),service.factory("postProjetos",["$http",function(e){return{post:function(t){function n(e){return e}function r(e){return e}return e.post("service/projetos/inserir/",t).then(n).catch(r)},senderEmail:function(t){function n(e){return e}function r(e){return e}return e.post("service/email/",t).then(n).catch(r)}}}]),service.factory("setProjetos",["$http",function(e){return{post:function(t){function n(e){return e}function r(e){return e}return e.post("service/projetos/setalterar/",t).then(n).catch(r)}}}]),service.factory("delProjetos",["$http",function(e){return{post:function(t){function n(e){return e}function r(e){return e}return e.post("service/projetos/delete/",t).then(n).catch(r)}}}]),service.factory("getUsuarios",["$http",function(e){return{get:function(){function t(e){return e}function n(e){return e}return e({method:"GET",url:"service/usuarios/"}).then(t).catch(n)},getChamados:function(){function t(e){return e}function n(e){return e}return e({method:"GET",url:"service/usuarios/userVisualizacaoChamados/"}).then(t).catch(n)}}}]),service.factory("envioUsuarios",["$http",function(e){return{post:function(t){function n(e){return e}function r(e){return e}return e.post("service/usuarios/inserir",t).then(n).catch(r)}}}]),service.factory("delUsuario",["$http",function(e){return{post:function(t){function n(e){return e}function r(e){return e}return e.post("service/usuarios/delusuario",t).then(n).catch(r)}}}]),service.factory("getUsuarioAlterar",["$http",function(e){return{get:function(t){function n(e){return e}function r(e){return e}return e({method:"GET",url:"service/usuarios/getalterar/"+t}).then(n).catch(r)}}}]),service.factory("setUsuarioAlterar",["$http",function(e){return{post:function(t){function n(e){return e}function r(e){return e}return e.post("service/usuarios/setalterar",t).then(n).catch(r)}}}]),service.factory("Radios",["$http",function(e){return{get:function(){function t(e){return e}function n(e){return e}return e.get("service/radios/").then(t).catch(n)},find:function(t){function n(e){return e}function r(e){return e}return e.get("service/radios/find/"+t).then(n).catch(r)},getEdit:function(t){function n(e){return e}function r(e){return e}return e.get("service/radios/getedit/"+t).then(n).catch(r)},insere:function(t){function n(e){return e}function r(e){return e}return e.post("service/radios/inserir",t).then(n).catch(r)},update:function(t){function n(e){return e}function r(e){return e}return e.post("service/radios/atualizar",t).then(n).catch(r)},deletar:function(t){function n(e){return e}function r(e){return e}return e.post("service/radios/delete",t).then(n).catch(r)}}}]),service.factory("Setores",["$http",function(e){return{get:function(){function t(e){return e}function n(e){return e}return e.get("service/setores/").then(t).catch(n)},getEdit:function(t){function n(e){return e}function r(e){return e}return e.get("service/setores/getedit/"+t).then(n).catch(r)},insere:function(t){function n(e){return e}function r(e){return e}return e.post("service/setores/inserir",t).then(n).catch(r)},update:function(t){function n(e){return e}function r(e){return e}return e.post("service/setores/atualizar",t).then(n).catch(r)},deletar:function(t){function n(e){return e}function r(e){return e}return e.post("service/setores/delete",t).then(n).catch(r)}}}]),service.factory("TiposEquipamento",["$http",function(e){return{get:function(){function t(e){return e}function n(e){return e}return e.get("service/tipoequipamento/").then(t).catch(n)},getEdit:function(t){function n(e){return e}function r(e){return e}return e.get("service/tipoequipamento/getedit/"+t).then(n).catch(r)},insere:function(t){function n(e){return e}function r(e){return e}return e.post("service/tipoequipamento/inserir",t).then(n).catch(r)},update:function(t){function n(e){return e}function r(e){return e}return e.post("service/tipoequipamento/atualizar",t).then(n).catch(r)},deletar:function(t){function n(e){return e}function r(e){return e}return e.post("service/tipoequipamento/delete",t).then(n).catch(r)}}}]),service.factory("Equipamentos",["$http",function(e){return{get:function(){function t(e){return e}function n(e){return e}return e.get("service/equipamentos/").then(t).catch(n)},getMaxId:function(){function t(e){return e}function n(e){return e}return e.get("service/equipamentos/getmaxid/").then(t).catch(n)},getSpec:function(t){function n(e){return e}function r(e){return e}return e.get("service/equipamentos/getspec/"+t).then(n).catch(r)},getEdit:function(t){function n(e){return e}function r(e){return e}return e.get("service/equipamentos/getedit/"+t).then(n).catch(r)},insere:function(t){function n(e){return e}function r(e){return e}return e.post("service/equipamentos/inserir",t).then(n).catch(r)},update:function(t){function n(e){return e}function r(e){return e}return e.post("service/equipamentos/atualizar",t).then(n).catch(r)},deletar:function(t){function n(e){return e}function r(e){return e}return e.post("service/equipamentos/delete",t).then(n).catch(r)}}}]),service.factory("Projetos",["$http",function(e){return{relatorioPorNome:function(t){function n(e){return e}function r(e){return e}return e.post("service/projetos/relatoriopornome/",t).then(n).catch(r)},relatorioPorRegistro:function(t){function n(e){return e}function r(e){return e}return e.get("service/projetos/relatorioporregistro/"+t).then(n).catch(r)}}}]),service.factory("PushNotification",["$http",function(e){return{send:function(t){function n(e){return e}function r(e){return e}return e.post("service/push/enviar/",t).then(n).catch(r)}}}]),service.factory("NivelAcesso",["$http","$q",function(e){return{findAll:function(){function t(e){return e}function n(e){return e}return e.get("service/nivelacesso/findAll/").then(t).catch(n)},find:function(t){function n(e){return e}function r(e){return e}return e.get("service/nivelacesso/find/"+t).then(n).catch(r)},findSuporte:function(t){function n(e){return e}function r(e){return e}return e.get("service/nivelacesso/findSuporte/"+t).then(n).catch(r)},getEdit:function(t){function n(e){return e}function r(e){return e}return e.get("service/nivelacesso/getedit/"+t).then(n).catch(r)},insere:function(t){function n(e){return e}function r(e){return e}return e.post("service/nivelacesso/inserir",t).then(n).catch(r)},update:function(t){function n(e){return e}function r(e){return e}return e.post("service/nivelacesso/atualizar",t).then(n).catch(r)},deletar:function(t){function n(e){return e}function r(e){return e}return e.post("service/nivelacesso/delete",t).then(n).catch(r)}}}]),service.factory("TipoAtendimento",["$http",function(e){return{findAll:function(){function t(e){return e}function n(e){return e}return e.get("service/atendimento/findAll/").then(t).catch(n)},find:function(t){function n(e){return e}function r(e){return e}return e.get("service/atendimento/find/"+t).then(n).catch(r)},getEdit:function(t){function n(e){return e}function r(e){return e}return e.get("service/atendimento/getedit/"+t).then(n).catch(r)},insere:function(t){function n(e){return e}function r(e){return e}return e.post("service/atendimento/inserir",t).then(n).catch(r)},update:function(t){function n(e){return e}function r(e){return e}return e.post("service/atendimento/atualizar",t).then(n).catch(r)},deletar:function(t){function n(e){return e}function r(e){return e}return e.post("service/atendimento/delete",t).then(n).catch(r)}}}]),service.factory("TipoStatus",["$http",function(e){return{findAll:function(){function t(e){return e}function n(e){return e}return e.get("service/status/findAll/").then(t).catch(n)},find:function(t){function n(e){return e}function r(e){return e}return e.get("service/status/find/"+t).then(n).catch(r)},getEdit:function(t){function n(e){return e}function r(e){return e}return e.get("service/status/getedit/"+t).then(n).catch(r)},insere:function(t){function n(e){return e}function r(e){return e}return e.post("service/status/inserir",t).then(n).catch(r)},update:function(t){function n(e){return e}function r(e){return e}return e.post("service/status/atualizar",t).then(n).catch(r)},deletar:function(t){function n(e){return e}function r(e){return e}return e.post("service/status/delete",t).then(n).catch(r)}}}]);